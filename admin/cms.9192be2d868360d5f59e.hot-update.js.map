{"version":3,"file":"cms.9192be2d868360d5f59e.hot-update.js","sources":["webpack:///./src/cms/Editor.js"],"sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\nimport {\n  RichContentEditor,\n  RichContentEditorModal,\n  EditorState,\n} from 'wix-rich-content-editor';\nimport { ContentState, convertFromHTML } from 'wix-rich-content-editor-common';\nimport ReactModal from 'react-modal';\nimport ModalsMap from './ModalsMap';\nimport * as Plugins from './EditorPlugins';\n\nconst modalStyleDefaults = {\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n  },\n};\nconst anchorTarget = '_blank';\nconst relValue = 'noopener';\n\nclass Editor extends Component {\n  constructor(props, context) {\n    super(props, context);\n    const blocksFromHTML = convertFromHTML(this.props.value || ' ');\n    const contentState = ContentState.createFromBlockArray(\n      blocksFromHTML.contentBlocks,\n      blocksFromHTML.entityMap,\n    );\n    this.state = {\n      showModal: false,\n      modalProps: false,\n      modalStyles: {},\n      editorState: EditorState.createWithContent(contentState),\n    };\n  }\n\n  onChange = (value) => {\n    this.setState({ editorState: value });\n    console.log(value);\n  };\n\n  componentDidMount() {\n    ReactModal.setAppElement('body');\n  }\n\n  helpers = {\n    openModal: (data) => {\n      const { modalStyles, ...modalProps } = data;\n      this.setState({\n        showModal: true,\n        modalProps,\n        modalStyles,\n      });\n    },\n    closeModal: () => {\n      this.setState({\n        showModal: false,\n        modalProps: null,\n        modalStyles: null,\n      });\n    },\n  };\n\n  render() {\n    const {\n      forID,\n      classNameWrapper,\n      setActiveStyle,\n      setInactiveStyle,\n    } = this.props;\n    const { modalStyles, editorState, modalProps } = this.state;\n\n    return (\n      <div\n        className={`rich-text-editor ${classNameWrapper}`}\n        style={{\n          maxHeight: '80vh',\n          minHeight: 100,\n          paddingLeft: 60,\n          overflow: 'auto',\n        }}\n      >\n        <RichContentEditor\n          placeholder=\"Content\"\n          helpers={this.helpers}\n          plugins={Plugins.editorPlugins}\n          // config={this.pluginsConfig}\n          editorKey={forID}\n          onChange={this.onChange}\n          editorState={editorState}\n          onFocus={setActiveStyle}\n          onBlur={setInactiveStyle}\n          anchorTarget={anchorTarget}\n          textToolbarType=\"static\"\n          isMobime={false}\n        />\n\n        <ReactModal\n          isOpen={this.state.showModal}\n          contentLabel=\"External Modal Example\"\n          style={modalStyles || modalStyleDefaults}\n          role=\"dialog\"\n          onRequestClose={this.helpers.closeModal}\n        >\n          <RichContentEditorModal modalsMap={ModalsMap} {...modalProps} />\n        </ReactModal>\n      </div>\n    );\n  }\n}\n\nexport default Editor;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAKA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AADA;AAUA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AAAA;AACA;AAFA;AAgBA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAnBA;AAyBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AAfA;AAtBA;AACA;AAIA;AACA;AACA;AACA;AACA;AAJA;AAPA;AAaA;AACA;;;AAMA;AACA;AACA;AACA;AAmBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;;;;;;;;AAzFA;AACA;AA0FA;AAAA;;;;;;;;;;AAxGA;AAUA;AACA;AAEA;;;;;;;;;;;;;;A","sourceRoot":""}